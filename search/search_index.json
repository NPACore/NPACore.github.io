{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Neuroimaging Processing and Analytics Core","text":""},{"location":"#mission","title":"Mission","text":"<p>NPAC is an interdisciplinary core sponsoring software infrastructure, development, and education for human brain imaging. Our focus is on open and accessible tools for reproducible pipelines, embracing standardization across MR processing.</p>"},{"location":"#about","title":"About","text":"<p>We are part of the MR Research Center at University of Pittsburgh, emerging from the MRRC, ARGO/Tetra, and the LNCD.</p> <p>NPAC is a young initiative and is excited to meet community needs. Please reach out to Will Foran for MR software/processing related questions.</p> <p>Find more on sidebar, our current projects, and our github. Find ways to stay in touch on the communications page.</p>"},{"location":"communications/","title":"Communications","text":""},{"location":"communications/#email-lists","title":"Email Lists","text":"<p>You can subscribe to our moderated mailling lists using a web forum or sending a message with the subject \"subscribe\" (or \"unsubscribe\" if you no longer want messages).</p> <ul> <li>flywheel provides notifications related to MRRC self-hosted flywheel.io MR data management instance.    Subscribe by web or mailing flywheel@list.pitt.edu. Also see the archive</li> <li>The MR Center also runs a mailing list for all users: web, mrctrusers@list.pitt.edu, archive</li> </ul>"},{"location":"communications/#team-chat","title":"Team Chat","text":"<p>[Note: there is currently limited interest in real time chat.]</p> <p>The NPAC zulip team chat is publicly readable.</p> <p>To post, follow this link to create a guest account.</p>"},{"location":"communications/#other-communications","title":"Other Communications","text":"<p>You can find individual email and links on the people page.</p>"},{"location":"people/","title":"People","text":"Finn Helmet Sydney Will Foran Director <p>You might also want to checkout our communications page.</p>"},{"location":"resources/","title":"Resources","text":"<p>See our \"awesome-list\" <sup>1</sup> awesome-neuroimaging for neuroimaging specific suits, software, and tools. Our communications and people pages can help connect you directly to NPAC resources.</p>"},{"location":"resources/#university-services","title":"University services","text":"<ul> <li>CRC    - pitt provided HPC </li> <li>REDCap - CTSI hosted survey (and more) software</li> <li>OAC - the office of academic computing offers the department of psychiatry database development and hosting, survey collection with custom web forms or text messaging, data/backup management, and more.</li> <li>Pitt EWI - Enterprise Web Infrastructure provides university hosted php (e.g. wordpress, dokuwiki) or static websites</li> <li>Pitt resource accounts - e.g. <code>npac@pitt.edu</code></li> </ul> <ol> <li> <p>curated lists with a lose specification: sindresorhus/awesome \u21a9</p> </li> </ol>"},{"location":"explain/resample-vs-registration/","title":"Resampling vs Registration","text":"<p>Both resampling and registration (also spatial normalization/warping) modify the underlying matrices of one image to match that of another. But unlike resampling, only registration and warping inspect and modify based on the data within the images.</p> <p>Resampling is concerned with the matrix shape, registration with the matrix content.</p> <p>From Andy's Brain Book</p> <p>Resampling means changing either the resolution, dimensions, or both the resolution and dimensions of an image. </p> <p>Compared that to warping where</p> <p>each brain [within an image] needs to be transformed</p>"},{"location":"explain/resample-vs-registration/#3dresample-vs-flirt","title":"<code>3dresample</code> vs <code>flirt</code>","text":"<p><code>3dresample</code> is an AFNI tool to resample an inset to the \"master\". We can compare it to FSL's <code>flirt</code> which reorients a brain to a reference (<code>-ref</code>). Both commands produce a new image with the same grid. However, the output of the <code>flirt</code> command will have a brain that's been moved. The value of the voxel at <code>(i,j)</code> <code>(1,1)</code> will be different in the input, resampled (<code>3dresample</code>), and registered (<code>flirt</code>) images. </p> <p>(Please use the edit button in the top right to suggest any changes or clarifications using github!)</p>"},{"location":"projects/","title":"Projects","text":"<ul> <li>flywheel local notes for MRRC's self-hosted instance fw.mrrc.upmc.edu of flywheel.io</li> <li><code>awesome-neuroimaging</code> - a curated list of neuroimaging software and links.</li> <li><code>tat2</code> - time averaged T2*</li> <li>MRSI<ul> <li><code>QPASA slice altas positioning</code></li> <li><code>MRSI Coordinate Placer</code></li> </ul> </li> </ul>"},{"location":"projects/#unpublished","title":"Unpublished","text":"<p>Projects pending approval of the collaborator </p> <ul> <li>Neuromelanin</li> <li>R2prime</li> </ul>"},{"location":"projects/#deprecated","title":"Deprecated","text":"<ul> <li><code>dcmdir_bids</code>, see heudiconv for a more general BIDS converter </li> <li><code>fmri_processing</code>, see fmriprep + xcp-d</li> </ul>"},{"location":"projects/flywheel/","title":"Flywheel","text":""},{"location":"projects/flywheel/#web-site","title":"Web site","text":"<p>fw.mrrc.upmc.edu hosts the MRRC's flywheel instance.</p> <p>For the moment<sup>1</sup>, access is restricted to within the UPMC intranet. You must either be in a UPMC building or access with a web browser launched from myapps.upmc.edu.</p>"},{"location":"projects/flywheel/#usage","title":"Usage","text":"<p>See docs.flywheel.io.</p>"},{"location":"projects/flywheel/#cli","title":"CLI","text":"<p>The scanner connector should automatically \"ingest\" all study sessions. But the CLI tool can easily upload additional data!</p> <pre><code>fw ingest dicom --include 'MR.*' -vd 2024.02.15-08.50.45/11998_20240215/ luna wpc-8620-habit\n</code></pre> <p>This example is tailored to work with MRRC Prisma DICOMS. The command uploads the session folder <code>2024.02.15-08.50.45/11998_20240215/</code> including sub-directories for all acquisitions for that visit to the <code>luna</code> group's project <code>wpc-8620-habit</code>. Notably, we need to specify the dicom pattern as anything starting with <code>MR</code>.</p>"},{"location":"projects/flywheel/#gears","title":"Gears","text":"<p>\"Gears\" are docker containers that can be run manually on the web interface or automatically via \"gear rules.\".</p> <p>Flywheel curates publicly available gears on the Gear Exchange.  We can also create custom gears for bespoke pipelines.</p>"},{"location":"projects/flywheel/#authentication","title":"Authentication","text":"<p>Flywheel authentication uses pitt.edu credentials through \"University Credential via CILogin.\" MRRC Flywheel admins need your primary/non-aliased case sensitive (likely all caps) pitt email addresses to match CILogin and grant access.</p> <p>You can find or confirm your Pitt account name following https://authtest.flywheel.io using \"University Credentials\" for \"University of Pittsburgh.\" After authenticating, the \"Id Token\" section's \"email\" field is the case sensitive email flywheel needs to give you access. Screenshots below.</p> <p></p> <ol> <li> <p>(Mar 2024, pending UPMC IT approval for global web accesses)\u00a0\u21a9</p> </li> </ol>"},{"location":"projects/flywheel/flywheel-run-gear/","title":"Running sequential gears in flywheel","text":""},{"location":"projects/flywheel/flywheel-run-gear/#mriqc","title":"MRIQC","text":""},{"location":"projects/flywheel/flywheel-run-gear/#phi","title":"PHI","text":""},{"location":"projects/flywheel/moving_projects/","title":"Moving Projects","text":"<p>We can use lookup and update to move a project to a different group.</p> <p>This is not possible on the Web UI.</p> <pre><code>import flywheel #  pip install flywheel-sdk\nproject = \"wpc-8922-spa\"\ngroup_orig = \"mrrc\"\ngroup_new  = \"luna\"\nfw = flywheel.Client(os.getenv(\"FW_API_KEY\"))\nproject = fw.lookup(\"{group_orig}/{project}\")\nproject.update({\"group\": group_new})\n</code></pre>"},{"location":"projects/flywheel/python-sdk-examples/","title":"Flywheel docs","text":"<ul> <li>https://fw.mrrc.upmc.edu/api/docs - api used by SDK</li> <li>screenshots of object names in web ui. ipython notebook   https://gitlab.com/flywheel-io/public/flywheel-tutorials/-/blob/master/webinars/finding_things_in_fw/finding_things_in_fw_notebook.ipynb</li> </ul>"},{"location":"projects/flywheel/python-sdk-examples/#setup","title":"Setup","text":"<ul> <li>Get fw cli and api key from your profile   page</li> <li>Install the flywheel sdk, maybe using a python <code>virtualenv</code></li> </ul> <pre><code># authenticate\nfw auth fw.mrrc.upmc.edu:XXXXXXXXXXX\n# creates eg. ~/.config/flywheel/user.json\n\npython -m virtualenv .venv\nsource .venv/bin/activate\npip install flywheel-sdk\n</code></pre>"},{"location":"projects/flywheel/python-sdk-examples/#mriqc-metrics","title":"MRIQC metrics","text":"<pre><code>import flywheel # flywheel-sdk\nfw = flywheel.Client() # auto login with ~/.config/flywheel/user.json\nprisma1qa = fw.projects(filter=\"label=Prisma1QA\")[0]\nacqs = fw.acquisitions(filter=f\"parents.project={prisma1qa.id},label=ep2d_bold_p2_s2_5min\")\n</code></pre>"}]}